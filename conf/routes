# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET           /                                                  controllers.Application.index()

# Map static resources from the /public folder to the /assets URL path
GET           /assets/*file                                      controllers.Assets.at(path="/public", file)

######## 测试接口
#GET           /chen/test                                         controllers.TestController.test()
#GET           /test                                              controllers.Application.test()
#GET           /test/feed-data                                    controllers.Application.feedData()
#GET           /test/feed-tag                                     controllers.Application.feedTag()

## 数据导入
#GET           /import/geo                                        controllers.Application.geoImport(start: Int?=0, count: Int?=50)
#GET           /import/train                                      controllers.Application.trainImport(start: Int?=0, count: Int?=50)
#GET           /import/air                                        controllers.Application.airImport(start: Int?=0, count: Int?=50)
#GET           /import/airport                                    controllers.Importer.airportImport(start: Int?=0, count: Int?=50)
#GET           /import/airline                                    controllers.Importer.airlineImport(start: Int?=0, count: Int?=50)
#GET           /import/air-route                                  controllers.Importer.airRouteImport(start: Int?=0, count: Int?=50)


#GET           /import/countries                                  controllers.Importer.countryImport()
#GET           /import/localities                                 controllers.Importer.localityImport()
#GET           /import/tests                                      controllers.Importer.test()

# 基础地理信息查询
# 搜索城市
GET           /geo/localities/search                             controllers.GeoCtrl.searchLocality(keyword: String?="", prefix: Int?=0, page: Int?=0, pageSize: Int?=20)
# 查看城市详情
GET           /geo/localities/:id                                controllers.GeoCtrl.getLocality(id: String, relatedVs: Int?=0, hotel: Int?=0, restaurant: Int?=0)
# 百度ID转换
GET           /geo/localities/baiduId/:baiduId                   controllers.GeoCtrl.getLocalityBaiduId(baiduId: Integer)

# 交通查询                                                        #                         searchAirRoutes(String depId, String arrId, String ts, String sortField, int sort, String timeFilterType, int timeFilter, int page, int pageSize)
GET           /itineraries/air-routes                            controllers.TrafficCtrl.searchAirRoutes(dep: String, arr: String, depTime: String?="", sortField: String?="price", sort: String?="desc", timeFilterType: String?="dep", timeFilter: Int?=0, page: Int?=0, pageSize: Int?=20)
GET           /itineraries/air-routes/:flightCode                controllers.TrafficCtrl.getAirRouteByCode(flightCode: String, depTime: String?="")
GET           /itineraries/train-station                         controllers.TrafficCtrl.searchTrainStationByLoc(loc: String)
GET           /itineraries/train-routes                          controllers.TrafficCtrl.getTrainRoutes(dep: String, arr: String,depTime: String?="", trainType: String?="", sortField: String?="price", sort: String?="asc", timeFilterType: String?="dep", timeFilter: Int?=0, page: Int?=0, pageSize: Int?=20)
GET           /itineraries/train-routes/:trainCode               controllers.TrafficCtrl.getTrainRouteByCode(trainCode: String, depTime: String?="")
#GET           /itineraries/train-routes/:trainCode               controllers.TrafficCtrl.getTrainRouteByCodeOld(trainCode: String)

# 路线相关接口
# 发现路线
GET           /explore/plans                                     controllers.PlanCtrl.explorePlans(fromLoc: String?="", loc: String?="", poi: String?="", sortField: String?="", sort: String?="asc", tag: String?="", page: Int?=0, pageSize: Int?=20)
# 路线查询
GET           /plans/templates/:planId                           controllers.PlanCtrl.getPlanFromTemplates(planId: String, fromLoc: String?="", backLoc: String?="", traffic: Int?=0, hotel: Int?=0)
# 保存路线
POST          /plans/ugc                                         controllers.PlanCtrl.saveUGCPlan()
# 优化路线
POST          /plans/optimizers                                  controllers.PlanCtrl.optimizePlan()

# POI

# 景点

# 景点签到
POST          /poi/view-spots/:spotId/checkin                    controllers.POICtrl.poiCheckin(poiType: String="vs", spotId: String)
# 搜索景点
GET           /poi/view-spots/search                             controllers.POICtrl.poiSearch(poiType: String="vs", locId: String?="", tag: String?="", keyword: String?="", page: Int?=0, pageSize: Int?=20,sortField: String?="score", sort: String?="asc",hotelType: String?="")
# 景点详情（显示详情，但不显示相关景点）
GET           /poi/view-spots/:spotId                            controllers.POICtrl.viewSpotInfo(poiDesc: String="vs", spotId: String, showDetails: Int=1, showRelated: Int?=0, pageSize: Int?=10)
# 获得景区概貌
GET           /poi/view-spots/:spotId/profiles                   controllers.POICtrl.viewSpotInfo(poiDesc: String="vs", spotId: String, showDetails: Int=0, showRelated: Int=1, pageSize: Int?=10)
# 获得指定城市的景点
GET           /poi/view-spots/localities/:locId                  controllers.POICtrl.poiSearch(poiType: String="vs", locId: String, tag: String?="", keyword: String?="", page: Int?=0, pageSize: Int?=20,sortField: String?="score", sort: String?="asc",hotelType: String?="")
# 获得相关景点
GET           /poi/view-spots/:spotId/related                    controllers.POICtrl.relatedViewSpotList(spotId: String, tagFilter: String?="", sortFilter: String?="", sort: String?="desc", page: Int?=0, pageSize: Int?=20)

# 酒店

# 搜索酒店
GET           /poi/hotels/search                                 controllers.POICtrl.poiSearch(poiType: String="hotel", locId: String?="", tag: String?="", keyword: String?="", page: Int?=0, pageSize: Int?=20,sortField: String?="score", sort: String?="asc",hotelType: String?="")
# 酒店详情
GET           /poi/hotels/:spotId                                controllers.POICtrl.viewSpotInfo(poiDesc: String="hotel", spotId: String, showDetails: Int=1, showRelated: Int?=0, pageSize: Int?=10)
# 酒店概貌
GET           /poi/hotels/:spotId/profiles                       controllers.POICtrl.viewSpotInfo(poiDesc: String="hotel", spotId: String, showDetails: Int=0, showRelated: Int?=1, pageSize: Int?=10)

# 餐厅

# 搜索酒店
GET           /poi/restaurants/search                            controllers.POICtrl.poiSearch(poiType: String="restaurants", locId: String?="", tag: String?="", keyword: String?="", page: Int?=0, pageSize: Int?=20,sortField: String?="score", sort: String?="asc",hotelType: String?="")
# 酒店详情
GET           /poi/restaurants/:spotId                           controllers.POICtrl.viewSpotInfo(poiDesc: String="restaurants", spotId: String, showDetails: Int=1, showRelated: Int?=0, pageSize: Int?=10)
# 酒店概貌
GET           /poi/restaurants/:spotId/profiles                  controllers.POICtrl.viewSpotInfo(poiDesc: String="restaurants", spotId: String, showDetails: Int=0, showRelated: Int?=1, pageSize: Int?=10)

GET           /poi/hotels/localities/:locId                      controllers.POICtrl.hotelList(locId: String, tagFilter: String?="", sortFilter: String?="", sort: String?="desc", page: Int?=0, pageSize: Int?=20)
GET           /poi/restaurants/localities/:locId                 controllers.POICtrl.restaurantList(locId: String, tagFilter: String?="", sortFilter: String?="", sort: String?="desc", page: Int?=0, pageSize: Int?=20)


# 餐厅详情


# 其它
POST          /sys/feedback                                      controllers.MiscCtrl.postFeedback()
GET           /sys/updates/:platform                             controllers.MiscCtrl.getUpdateInfo(platform: String, platformVer: String, appVer: String)
GET           /suggestions                                       controllers.MiscCtrl.getSuggestions(word: String, loc: Int?=0, vs: Int?=0, hotel: Int?=0, restaurant: Int?=0, pageSize: Int?=5)

# 发现目的地（推荐机制）
GET           /explore                                           controllers.MiscCtrl.explore(showDetails: Int?=0, loc: Int?=0, vs: Int?=0, hotel: Int?=0, restaurant: Int?=0, page: Int?=0, pageSize: Int?=20)

# 用户

# 用户登录
POST          /users/oauth-login                                 controllers.UserCtrl.oauthLogin()
GET           /users/udid/:udid                                  controllers.UserCtrl.udidLogin(udid: String)
GET           /users/:userId                                     controllers.UserCtrl.getUserProfileById(userId: String)
GET           /users/nick-names/:userName                        controllers.UserCtrl.getUserProfileByName(userName: String)
GET           /users/:userId/favors/view-spots                   controllers.UserCtrl.getUserFavoredVS(userId: String, page: Int?=0, pageSize: Int?=20)
PUT           /users/:userId/favors/view-spots                   controllers.UserCtrl.putUserFavoredVS(userId: String)
DELETE        /users/:userId/favors/view-spots/:vsId             controllers.UserCtrl.removeUserFavoredVS(userId: String, vsId: String)

# 其它接口 RESTful
GET           /home-images/$width<[0-9]+>x$height<[0-9]+>        controllers.MiscCtrl.appHomeImage(width: Int, height: Int, quality: Int?=85, format: String?="webp", interlace: Int?=1)
GET           /batch/planBudge                                   controllers.Bache.getPlanBudget(dep: String?="", arr: String?="" )