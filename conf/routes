# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Home page
GET           /                                             controllers.Application.index()

# Map static resources from the /public folder to the /assets URL path
GET           /assets/*file                                 controllers.Assets.at(path="/public", file)

####### 测试接口

GET           /test                                         controllers.Application.test()
GET           /test/feed-data                               controllers.Application.feedData()
GET           /test/feed-tag                                controllers.Application.feedTag()

# 数据导入
GET           /import/geo                                   controllers.Application.geoImport(start: Int?=0, count: Int?=50)
GET           /import/train                                 controllers.Application.trainImport(start: Int?=0, count: Int?=50)
GET           /import/air                                   controllers.Application.airImport(start: Int?=0, count: Int?=50)
GET           /import/countries                             controllers.Application.countryImport()
GET           /import/localities                            controllers.Application.localityImport()

# 基础地理信息查询
# 查询城市详情
GET           /geo/localities/search                        controllers.GeoCtrl.lookupLocality(baiduId: Int)
GET           /geo/localities/:id                           controllers.GeoCtrl.getLocality(id: String, relatedVs: Int?=0, hotel: Int?=0, restaurant: Int?=0)

# 交通查询
GET           /itineraries/air-routes                       controllers.TrafficCtrl.getAirRoutes(dep: String, arr: String, sortField: String?="price", sort: String?="asc", timeFilterType: String?="dep", timeFilter: Int?=0, page: Int?=0, pageSize: Int?=20)
GET           /itineraries/air-routes/:flightCode           controllers.TrafficCtrl.getAirRouteByCode(flightCode: String)
GET           /itineraries/train-station                    controllers.TrafficCtrl.searchTrainStationByLoc(loc: String)
GET           /itineraries/train-routes                     controllers.TrafficCtrl.getTrainRoutes(dep: String, arr: String, sortField: String?="price", sort: String?="asc", timeFilterType: String?="dep", timeFilter: Int?=0, page: Int?=0, pageSize: Int?=20)
GET           /itineraries/train-routes/:trainCode          controllers.TrafficCtrl.getTrainRouteByCode(trainCode: String)

# 路线相关接口
# 发现路线
GET           /explore/plans                                controllers.PlanCtrl.explorePlans(loc: String?="", poi: String?="", sortField: String?="", sort: String?="asc", tags: String?="", page: Int?=0, pageSize: Int?=20)
# 路线查询
GET           /plans/templates/:planId                      controllers.PlanCtrl.getPlanFromTemplates(planId: String, fromLoc: String?="", backLoc: String?="", traffic: Int?=0, hotel: Int?=0)
# 保存路线
POST          /plans/ugc/:userId                            controllers.PlanCtrl.saveUGCPlan(userId: String)

# POI
# 根据目的地获得景点列表
GET           /poi/view-spots/search                        controllers.POICtrl.viewSpotList(locality: String, tagFilter: String?="", sortFilter: String?="", sort: String?="desc", page: Int?=0, pageSize: Int?=20)
GET           /poi/view-spots/localities/:locId             controllers.POICtrl.viewSpotList(locId: String, tagFilter: String?="", sortFilter: String?="", sort: String?="desc", page: Int?=0, pageSize: Int?=20)
GET           /poi/hotels/localities/:locId                 controllers.POICtrl.hotelList(locId: String, tagFilter: String?="", sortFilter: String?="", sort: String?="desc", page: Int?=0, pageSize: Int?=20)
GET           /poi/restaurants/localities/:locId            controllers.POICtrl.restaurantList(locId: String, tagFilter: String?="", sortFilter: String?="", sort: String?="desc", page: Int?=0, pageSize: Int?=20)
# 景点详情
GET           /poi/view-spots/:spotId                       controllers.POICtrl.viewSpotInfo(spotId: String, showDetails: Int=1, showRelated: Int=0)
# 获得景区概貌
GET           /poi/view-spots/:spotId/profiles              controllers.POICtrl.viewSpotInfo(spotId: String, showDetails: Int=0, showRelated: Int=1)
# 餐厅详情
# 获得相关景点
GET           /poi/view-spots/:spotId/related               controllers.POICtrl.relatedViewSpotList(spotId: String, tagFilter: String?="", sortFilter: String?="", sort: String?="desc", page: Int?=0, pageSize: Int?=20)

# 其它
POST          /sys/feedback                                 controllers.MiscCtrl.postFeedback()
GET           /sys/updates/:platform                        controllers.MiscCtrl.getUpdateInfo(platform: String, platformVer: String, appVer: String)
GET           /suggestions                                  controllers.MiscCtrl.getSuggestions(word: String, loc: Int?=0, vs: Int?=0, hotel: Int?=0, restaurant: Int?=0, pageSize: Int?=5)

# 发现目的地（推荐机制）
GET           /explore                                      controllers.MiscCtrl.explore(showDetails: Int?=0, loc: Int?=0, vs: Int?=0, hotel: Int?=0, restaurant: Int?=0, page: Int?=0, pageSize: Int?=20)

# 用户
GET           /users/udid/:udid                             controllers.UserCtrl.getUserByUDID(udid: String)
GET           /users/:userId                                controllers.UserCtrl.getUserProfileById(userId: String)
GET           /users/nick-names/:userName                   controllers.UserCtrl.getUserProfileByName(userName: String)
GET           /users/:userId/favors/view-spots              controllers.UserCtrl.getUserFavoredVS(userId: String, page: Int?=0, pageSize: Int?=20)
PUT           /users/:userId/favors/view-spots              controllers.UserCtrl.putUserFavoredVS(userId: String)
DELETE        /users/:userId/favors/view-spots/:vsId        controllers.UserCtrl.removeUserFavoredVS(userId: String, vsId: String)

# 其它接口
GET             /home-images                                controllers.MiscCtrl.appHomeImage()
